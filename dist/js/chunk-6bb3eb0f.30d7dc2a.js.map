{"version":3,"sources":["webpack:///./src/views/Product.vue?b483","webpack:///./src/views/Product.vue?e4f8","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_v","_s","product","title","_f","price","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","num","key","domProps","unit","addToCart","id","status","_e","discription","carts","deleteItem","staticRenderFns","data","pageName","addToCartIcon","components","Circle4","Header","Footer","Cart","methods","getProduct","vm","$http","get","api","then","console","log","response","getCart","axios","product_id","qty","post","delete","created","component"],"mappings":"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","file":"js/chunk-6bb3eb0f.30d7dc2a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=9ade35ee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=9ade35ee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainContent\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('Circle4')],1),_c('Header'),_c('div',{staticClass:\"container\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb my-2 p-0 bg-transparent\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\"相關產品\")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('h3',{staticClass:\"mb-4 productTitle\"},[_vm._v(_vm._s(_vm.product.title))]),_c('p',{staticClass:\"mb-4 productPrice\"},[_vm._v(\"單價：\"),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.product.price)))])]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.num),expression:\"product.num\"}],staticClass:\"form-control mb-4\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.product, \"num\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\"選購 \"+_vm._s(num)+\" \"+_vm._s(_vm.product.unit))])}),0),_c('button',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":function($event){return _vm.addToCart(_vm.product.id, _vm.product.num)}}},[_vm._v(\"加入購物車\"),(_vm.status.addToCartIcon)?_c('i',{staticClass:\"fas fa-spinner fa-spin ml-2\"}):_vm._e()])]),_c('div',{staticClass:\"col-md-8\"},[_c('img',{staticClass:\"img img-fluid mb-4\",attrs:{\"src\":(\"\" + (_vm.product.imageUrl)),\"alt\":(\"\" + (_vm.product.title))}}),_c('div',{staticClass:\"jumbotron\"},[_vm._v(\" \"+_vm._s(_vm.product.discription)+\" \")])])])]),_c('Cart',{attrs:{\"cart\":_vm.carts},on:{\"emitDelete\":_vm.deleteItem}}),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mainContent\">\r\n    <loading :active.sync=\"isLoading\">\r\n      <Circle4></Circle4>\r\n    </loading>\r\n    <!-- Start Header -->\r\n    <Header/>\r\n    <!-- End Header -->\r\n\r\n    <!-- Start Content -->\r\n    <div class=\"container\">\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb my-2 p-0 bg-transparent\">\r\n          <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\r\n          <li class=\"breadcrumb-item\"><router-link to=\"/products\">相關產品</router-link></li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{product.title}}</li>\r\n        </ol>\r\n      </nav>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <h3 class=\"mb-4 productTitle\">{{product.title}}</h3>\r\n          <p class=\"mb-4 productPrice\">單價：<span>{{product.price | currency}}</span></p>\r\n          <select class=\"form-control mb-4\" v-model=\"product.num\">\r\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">選購 {{num}} {{product.unit}}</option>\r\n          </select>\r\n          <button class=\"btn btn-primary btn-block\" @click=\"addToCart(product.id, product.num)\">加入購物車<i class=\"fas fa-spinner fa-spin ml-2\" v-if=\"status.addToCartIcon\"></i></button>\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <img :src=\"`${product.imageUrl}`\" :alt=\"`${product.title}`\" class=\"img img-fluid mb-4\">\r\n          <div class=\"jumbotron\">\r\n            {{product.discription}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- End Content -->\r\n\r\n    <!-- cart Icon -->\r\n    <Cart :cart=\"carts\" @emitDelete=\"deleteItem\"></Cart>\r\n    <!---->\r\n\r\n    <!-- Start Footer -->\r\n    <Footer/>\r\n    <!-- End Footer -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport { Circle4 } from 'vue-loading-spinner'\r\nimport Cart from '../components/Cart'\r\n\r\nexport default {\r\n  name: 'product',\r\n  data () {\r\n    return {\r\n      pageName: '系列產品',\r\n      product: {},\r\n      carts: [],\r\n      isLoading: false,\r\n      status: {\r\n        addToCartIcon: false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Circle4,\r\n    Header,\r\n    Footer,\r\n    Cart\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const vm = this\r\n      const productID = vm.$route.params.id\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${productID}`\r\n      vm.isLoading = true\r\n      this.$http.get(api).then(response => {\r\n        console.log(response.data.product)\r\n        vm.isLoading = false\r\n        vm.product = response.data.product\r\n        // 數量預設值為1\r\n        vm.product.num = 1\r\n      })\r\n    },\r\n    getCart () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\r\n      vm.axios.get(api).then((response) => {\r\n        console.log(response.data.data.carts)\r\n        vm.carts = response.data.data.carts\r\n      })\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\r\n      const cart = {\r\n        product_id: id,\r\n        qty: qty\r\n      }\r\n      vm.status.addToCartIcon = true\r\n      this.$http.post(api, { data: cart }).then(response => {\r\n        console.log(response)\r\n        vm.getCart()\r\n        vm.status.addToCartIcon = false\r\n      })\r\n    },\r\n    deleteItem (id) {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`\r\n      vm.isLoading = true\r\n      vm.axios.delete(api).then((response) => {\r\n        vm.getCart()\r\n        vm.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/all.scss\";\r\n\r\n.mainContent{\r\n  height: 100vh;\r\n}\r\n.productTitle{\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n}\r\n.productPrice{\r\n  font-size: 16px;\r\n  line-height: 16px;\r\n  span{\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=9ade35ee&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=9ade35ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ade35ee\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}