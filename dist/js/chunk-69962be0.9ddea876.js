(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69962be0"],{"0418":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar bg-transparent"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/WMall"}},[t._v("WMall")]),e("div",{staticClass:"ml-auto"},[e("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/login",target:"_blank"}},[t._v("後台管理")])],1)],1)])},i=[],r=(e("23c7"),e("2877")),c={},n=Object(r["a"])(c,s,i,!1,null,"78c7e48d",null);a["a"]=n.exports},"159b":function(t,a,e){var s=e("da84"),i=e("fdbc"),r=e("17c2"),c=e("9112");for(var n in i){var o=s[n],l=o&&o.prototype;if(l&&l.forEach!==r)try{c(l,"forEach",r)}catch(u){l.forEach=r}}},"15fe":function(t,a,e){"use strict";var s=e("c0b7"),i=e.n(s);i.a},1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre},on:{click:function(a){return t.updatePage(t.pages.current_page-1)}}},[t._m(0)]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:a===t.pages.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next},on:{click:function(a){return t.updatePage(t.pages.current_page+1)}}},[t._m(1)])],2)])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])}],r={name:"Pagination",props:["pages"],data:function(){return{}},methods:{updatePage:function(t){this.$emit("emitPages",t)}}},c=r,n=e("2877"),o=Object(n["a"])(c,s,i,!1,null,null,null);a["a"]=o.exports},"17c2":function(t,a,e){"use strict";var s=e("b727").forEach,i=e("b301");t.exports=i("forEach")?function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"23c7":function(t,a,e){"use strict";var s=e("e6ff"),i=e.n(s);i.a},4160:function(t,a,e){"use strict";var s=e("23e7"),i=e("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"478a":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wmall"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("Circle4")],1),e("div",{staticClass:"container mb-4"},[e("Header"),t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card border-primary"},[e("ul",{staticClass:"list-group list-group-flush"},t._l(t.filterCategory,(function(a){return e("li",{key:a.id,staticClass:"list-group-item",class:{active:t.selected===""+a},attrs:{"data-category":""+a},on:{click:t.selectedItem}},[t._v(t._s(a))])})),0)])])])]),e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return e("div",{key:a.id,staticClass:"col-md-4 mb-4",attrs:{"items-per-page":9}},[e("div",{staticClass:"card border-primary rounded-sm shadow-sm"},[e("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-primary float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark product_title",attrs:{href:"#"}},[t._v(t._s(t._f("titleFilter")(a.title)))])]),e("p",{staticClass:"card-text text-secondary"},[t._v(t._s(t._f("textShow")(a.discription)))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e("del",{staticClass:"h6 text-secondary"},[t._v(t._s(t._f("currency")(a.origin_price))+" 元")]),e("div",{staticClass:"h5"},[t._v("特價"),e("span",{staticClass:"price text-danger"},[t._v(t._s(t._f("currency")(a.price)))]),t._v("元")])])]),e("div",{staticClass:"card-footer d-flex bg-white"},[e("button",{staticClass:"btn btn-yellow btn-sm",attrs:{type:"button"},on:{click:function(e){return t.getProduct(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),e("button",{staticClass:"btn btn-yellow btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addToCart(a.id,a.qty)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0),e("div",{staticClass:"d-flex justify-content-center"},[e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getProducts}})],1)])])],1),e("Footer"),e("div",{staticClass:"cartIcom"},[e("i",{staticClass:"fas fa-shopping-cart text-yellow cartIcon",attrs:{"data-toggle":"collapse",href:"#checkList",role:"button"}},[e("span",{staticClass:"badge numBadge bg-yellow text-white d-block"},[t._v(t._s(t.cartLen))]),e("div",{staticClass:"collapse checkList",attrs:{id:"checkList"}},[e("div",{staticClass:"card card-body"},[e("p",{staticClass:"mb-3"},[t._v("已選購商品")]),e("table",{staticClass:"table table-hover cartList"},[e("tbody",t._l(t.carts,(function(a){return e("tr",{key:a.id},[e("td",{attrs:{width:"50"}},[e("i",{staticClass:"fas fa-trash-alt",on:{click:function(e){return t.removeCart(a.id)}}})]),e("td",[t._v(t._s(a.product.title))]),e("td",{attrs:{width:"50"}},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{attrs:{width:"50"}},[t._v(t._s(a.total))])])})),0)]),e("router-link",{staticClass:"btn btn-primary text-center text-white",attrs:{to:"/customOrder"}},[t._v(" 結帳去 ")])],1)])])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"carousel slide mb-4",attrs:{id:"carousel","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#carousel","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#carousel","data-slide-to":"1"}})]),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{staticClass:"d-block w-100",attrs:{src:e("effa"),alt:"page_banner"}})]),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:e("9840"),alt:"全館大優惠"}})])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#carousel",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#carousel",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])}],r=(e("99af"),e("4de4"),e("4160"),e("c975"),e("159b"),e("d58b")),c=e("1799"),n=e("0418"),o=e("fd2d"),l={name:"WMall",components:{Pagination:c["a"],Header:n["a"],Footer:o["a"],Circle4:r["a"]},data:function(){return{products:[],product:{},carts:[],category:["全部"],selected:"全部",datasetItem:"",pagination:{},status:{loadingItem:""},cartLen:"0"}},computed:{filterCategory:function(t){var a=this;return a.category.filter((function(t,a,e){return e.indexOf(t)===a}))},filterProducts:function(){var t=this,a=[];return"全部"===t.selected?t.products:(t.products.forEach((function(e){t.selected===e.category&&a.push(e)})),a)}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/products?page=").concat(t);a.isLoading=!0,this.$http.get(e).then((function(t){console.log(t),a.products=t.data.products,a.isLoading=!1,a.pagination=t.data.pagination;for(var e=0;e<a.products.length;e++)a.category.push(t.data.products[e].category)}))},selectedItem:function(t){var a=this,e=t.target.dataset.category,s=t.target.textContent;console.log("item",s),a.datasetItem=e,a.selected=s},getProduct:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/product/").concat(t);a.status.loadingItem=t,this.$http.get(e).then((function(t){if(t.data.success){var e=t.data.product.id;a.status.loadingItem="",a.$router.push("/product/".concat(e))}}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart");e.status.loadingItem=t;var i={product_id:t,qty:a};this.$http.post(s,{data:i}).then((function(t){console.log(t),e.status.loadingItem="",e.getCart()}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart");this.$http.get(a).then((function(a){a.data.success&&(console.log("length",a.data.data.carts.length),console.log("carts",a.data.data.carts),t.cartLen=a.data.data.carts.length,t.carts=a.data.data.carts)}))},removeCart:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart/").concat(t);a.isLoading=!0,this.$http.delete(e).then((function(t){t.data.success&&(console.log("response.data",t.data),a.getProducts(),a.getCart())}))}},created:function(){this.getProducts(),this.getCart()}},u=l,d=(e("15fe"),e("2877")),f=Object(d["a"])(u,s,i,!1,null,"61226a6c",null);a["default"]=f.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var c=s(a);c in t?i.f(t,c,r(0,e)):t[c]=e}},8579:function(t,a,e){},9840:function(t,a,e){t.exports=e.p+"img/page_banner_2.5f60f6cd.jpg"},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),c=e("861d"),n=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),p=e("60ae"),g=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",C=p>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),m=function(t){if(!c(t))return!1;var a=t[g];return void 0!==a?!!a:r(t)},_=!C||!b;s({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,s,i,r,c=n(this),d=u(c,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?c:arguments[a],m(r)){if(i=o(r.length),f+i>v)throw TypeError(h);for(e=0;e<i;e++,f++)e in r&&l(d,f,r[e])}else{if(f>=v)throw TypeError(h);l(d,f++,r)}return d.length=f,d}})},b301:function(t,a,e){"use strict";var s=e("d039");t.exports=function(t,a){var e=[][t];return!e||!s((function(){e.call(null,a||function(){throw 1},1)}))}},c0b7:function(t,a,e){},c5b4:function(t,a,e){"use strict";var s=e("8579"),i=e.n(s);i.a},c975:function(t,a,e){"use strict";var s=e("23e7"),i=e("4d64").indexOf,r=e("b301"),c=[].indexOf,n=!!c&&1/[1].indexOf(1,-0)<0,o=r("indexOf");s({target:"Array",proto:!0,forced:n||o},{indexOf:function(t){return n?c.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},e6ff:function(t,a,e){},effa:function(t,a,e){t.exports=e.p+"img/page_banner.d78b36db.jpg"},fd2d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footerComponent"},[e("footer",{staticClass:"footer py-4 bg-primary text-center text-white"},[t._v("六角學院 作業演練使用")])])}],r=(e("c5b4"),e("2877")),c={},n=Object(r["a"])(c,s,i,!1,null,"6685b038",null);a["a"]=n.exports},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-69962be0.9ddea876.js.map