{"version":3,"sources":["webpack:///./src/views/Checkout.vue?8b20","webpack:///./src/views/Checkout.vue?fda2","webpack:///src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?39ed","webpack:///./src/views/Checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_m","_v","_s","_f","totalPrice","_l","item","key","id","product","title","qty","unit","price","preventDefault","createOrder","directives","name","rawName","value","form","user","expression","domProps","target","composing","$set","errors","has","first","_e","class","staticRenderFns","data","carts","email","tel","address","message","components","Circle4","Header","Footer","methods","getCart","vm","$http","get","api","then","console","log","response","addPrice","Math","floor","i","$validator","validate","result","post","success","$router","push","created","component"],"mappings":"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","file":"js/chunk-7578a430.10d42309.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&id=0f2e2052&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&id=0f2e2052&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('Circle4')],1),_c('Header'),_c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6 offset-md-3\"},[_c('div',{staticClass:\"row mb-4\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{attrs:{\"id\":\"accordion\"}},[_c('div',{staticClass:\"card\"},[_c('button',{staticClass:\"card-header btn btn-link d-flex justify-content-between\",attrs:{\"id\":\"headingOne\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseOne\",\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\"}},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"購物車清單\")]),_c('div',{staticClass:\"totalPrice\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalPrice)))])]),_c('div',{staticClass:\"collapse\",attrs:{\"id\":\"collapseOne\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordion\"}},[_c('div',{staticClass:\"card-body p-0\"},[_c('table',{staticClass:\"table mb-0\"},[_vm._m(1),_c('tbody',[_vm._l((_vm.carts),function(item){return _c('tr',{key:item.id},[_c('td',[_c('img',{staticClass:\"img img-fluid cartImg\",attrs:{\"src\":(\"\" + (item.product.imageUrl)),\"alt\":(\"\" + (item.product.title))}})]),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))])])}),_vm._m(2),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"合計：\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalPrice)))])])],2)])])])])])])]),_c('div',{staticClass:\"row mb-4\"},[_c('div',{staticClass:\"col-12\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userName\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid' : _vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"userName\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名必須輸入\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userTel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid' : _vm.errors.has('tel')},attrs:{\"type\":\"tel\",\"name\":\"tel\",\"id\":\"userTel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"電話必須輸入\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userAdd\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid' : _vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"userAdd\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"comment\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"送出訂單\")])])])])])])]),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-10 offset-md-1\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 mb-2 mb-md-4\"},[_c('div',{staticClass:\"step active\"},[_vm._v(\"資料填寫\")])]),_c('div',{staticClass:\"col-md-4 mb-2 mb-md-4\"},[_c('div',{staticClass:\"step\"},[_vm._v(\"確認訂單\")])]),_c('div',{staticClass:\"col-md-4 mb-2 mb-md-4\"},[_c('div',{staticClass:\"step\"},[_vm._v(\"完成\")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"20%\"}}),_c('th',{staticClass:\"text-left\"},[_vm._v(\"產品名稱\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"單位\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"價格\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入優惠代碼\",\"aria-label\":\"輸入優惠代碼\",\"aria-describedby\":\"basic-addon2\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\"}},[_vm._v(\"Button\")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\">\r\n      <Circle4></Circle4>\r\n    </loading>\r\n    <!-- Start Header -->\r\n    <Header/>\r\n    <!-- End Header -->\r\n\r\n    <!-- Start Content -->\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-10 offset-md-1\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\r\n                        <div class=\"step active\">資料填寫</div>\r\n                    </div>\r\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\r\n                        <div class=\"step\">確認訂單</div>\r\n                    </div>\r\n                    <div class=\"col-md-4 mb-2 mb-md-4\">\r\n                        <div class=\"step\">完成</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 offset-md-3\">\r\n                <div class=\"row mb-4\">\r\n                    <div class=\"col-12\">\r\n                        <div id=\"accordion\">\r\n                            <div class=\"card\">\r\n                                <button class=\"card-header btn btn-link d-flex justify-content-between\" id=\"headingOne\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\r\n                                    <h5 class=\"mb-0\">購物車清單</h5><div class=\"totalPrice\">{{totalPrice|currency}}</div>\r\n                                </button>\r\n                                <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\r\n                                    <div class=\"card-body p-0\">\r\n                                        <table class=\"table mb-0\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th width=\"20%\"></th>\r\n                                                    <th class=\"text-left\">產品名稱</th>\r\n                                                    <th class=\"text-center\">單位</th>\r\n                                                    <th class=\"text-right\">價格</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr v-for=\"item in carts\" :key=\"item.id\">\r\n                                                    <td><img :src=\"`${item.product.imageUrl}`\" :alt=\"`${item.product.title}`\" class=\"img img-fluid cartImg\"></td>\r\n                                                    <td class=\"text-left\">{{item.product.title}}</td>\r\n                                                    <td class=\"text-center\">{{item.qty}}/{{item.product.unit}}</td>\r\n                                                    <td class=\"text-right\">{{item.product.price|currency}}</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td colspan=\"4\">\r\n                                                        <div class=\"input-group\">\r\n                                                            <input type=\"text\" class=\"form-control\" placeholder=\"輸入優惠代碼\" aria-label=\"輸入優惠代碼\" aria-describedby=\"basic-addon2\">\r\n                                                            <div class=\"input-group-append\">\r\n                                                                <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\r\n                                                            </div>\r\n                                                            </div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td colspan=\"3\" class=\"text-right\">合計：</td>\r\n                                                    <td class=\"text-right\">{{totalPrice|currency}}</td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row mb-4\">\r\n                  <div class=\"col-12\">\r\n                    <form @submit.prevent=\"createOrder\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"email\">Email</label>\r\n                        <input type=\"email\" class=\"form-control\" name=\"email\" id=\"email\" v-model=\"form.user.email\" v-validate=\"'required|email'\" placeholder=\"請輸入 Email\">\r\n                        <span class=\"text-danger\" v-if=\"errors.has('email')\">{{ errors.first('email') }}</span>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label for=\"userName\">收件人姓名</label>\r\n                        <input type=\"text\" class=\"form-control\" :class=\"{'is-invalid' : errors.has('name')}\" name=\"name\" id=\"userName\" v-model=\"form.user.name\" v-validate=\"'required'\" placeholder=\"請輸入姓名\">\r\n                        <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名必須輸入</span>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label for=\"userTel\">收件人電話</label>\r\n                        <input type=\"tel\" class=\"form-control\" :class=\"{'is-invalid' : errors.has('tel')}\" name=\"tel\" id=\"userTel\" v-model=\"form.user.tel\" v-validate=\"'required'\" placeholder=\"請輸入電話\">\r\n                        <span class=\"text-danger\" v-if=\"errors.has('tel')\">電話必須輸入</span>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label for=\"userAdd\">收件人地址</label>\r\n                        <input type=\"text\" class=\"form-control\" :class=\"{'is-invalid' : errors.has('address')}\" name=\"address\" id=\"userAdd\" v-model=\"form.user.address\" v-validate=\"'required'\" placeholder=\"請輸入地址\">\r\n                        <span class=\"text-danger\" v-if=\"errors.has('address')\">地址欄位不得留空</span>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label for=\"comment\">留言</label>\r\n                        <textarea class=\"form-control\" id=\"comment\" v-model=\"form.message\" rows=\"10\"></textarea>\r\n                      </div>\r\n                      <button type=\"submit\" class=\"btn btn-primary\">送出訂單</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- End Content -->\r\n\r\n    <!-- Start Footer -->\r\n    <Footer/>\r\n    <!-- End Footer -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Circle4 } from 'vue-loading-spinner'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\n\r\nexport default {\r\n  name: 'checkuot',\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      isLoading: false,\r\n      totalPrice: 0,\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Circle4,\r\n    Header,\r\n    Footer\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\r\n      vm.isLoading = true\r\n      vm.$http.get(api).then((response) => {\r\n        vm.isLoading = false\r\n        console.log(response.data.data.carts)\r\n        vm.carts = response.data.data.carts\r\n        vm.addPrice()\r\n      })\r\n    },\r\n    addPrice () {\r\n      const vm = this\r\n      const priceLen = vm.carts.length\r\n      for (let i = 0; i < priceLen; i++) {\r\n        vm.totalPrice += Math.floor(vm.carts[i].product.price)\r\n      }\r\n    },\r\n    createOrder () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\r\n      const order = vm.form\r\n      vm.isLoading = true\r\n      vm.$validator.validate().then((result) => {\r\n        if (result) {\r\n          vm.$http.post(api, { data: order }).then((response) => {\r\n            console.log('訂單已建立', response)\r\n            if (response.data.success) {\r\n              vm.$router.push(`/checkout/${response.data.orderId}`)\r\n            }\r\n            vm.isLoading = false\r\n          })\r\n        } else {\r\n          console.log('欄位不完整')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/all.scss\";\r\n\r\n.step{\r\n    width: 100%;\r\n    padding: 10px 0;\r\n    font-size: 16px;\r\n    line-height: 20px;\r\n    text-align: center;\r\n    color: $primary;\r\n    border: 1px solid $primary;\r\n    border-radius: 20px;\r\n    &.active{\r\n        background-color: $primary;\r\n        color: white\r\n    }\r\n}\r\n#accordion{\r\n    width: 100%;\r\n    .btn-link,\r\n    .btn-link:hover{\r\n        text-decoration: none;\r\n    }\r\n    .totalPrice{\r\n        font-weight: bold;\r\n    }\r\n}\r\ntextarea{\r\n  resize: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=0f2e2052&scoped=true&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Checkout.vue?vue&type=style&index=0&id=0f2e2052&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f2e2052\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}