(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-293e456d"],{"2b5b":function(t,a,c){"use strict";var o=c("50d8"),i=c.n(o);i.a},"50d8":function(t,a,c){},"5dcb":function(t,a,c){"use strict";c.r(a);var o=function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"mainContent"},[c("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[c("Circle4")],1),c("Header"),c("div",{staticClass:"container"},[c("nav",{attrs:{"aria-label":"breadcrumb"}},[c("ol",{staticClass:"breadcrumb my-2 p-0 bg-transparent"},[c("li",{staticClass:"breadcrumb-item"},[c("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),c("li",{staticClass:"breadcrumb-item"},[c("router-link",{attrs:{to:"/products"}},[t._v("相關產品")])],1),c("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),c("div",{staticClass:"row"},[c("div",{staticClass:"col-md-4"},[c("h3",{staticClass:"mb-4 productTitle"},[t._v(t._s(t.product.title))]),c("p",{staticClass:"mb-4 productPrice"},[t.product.origin_price!==t.product.price?c("span",{staticClass:"origin_price mr-2"},[t._v("市價:"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t._v("網路價："),c("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(t.product.price)))])]),c("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mb-4",on:{change:function(a){var c=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?c:c[0])}}},t._l(10,(function(a){return c("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])})),0),c("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){return t.addToCart(t.product.id,t.product.num)}}},[t._v("加入購物車"),t.status.addToCartIcon?c("i",{staticClass:"fas fa-spinner fa-spin ml-2"}):t._e()])]),c("div",{staticClass:"col-md-8"},[c("img",{staticClass:"img img-fluid mb-4",attrs:{src:""+t.product.imageUrl,alt:""+t.product.title}}),c("div",{staticClass:"jumbotron"},[t._v(" "+t._s(t.product.discription)+" ")])])])]),c("Cart",{attrs:{cart:t.carts},on:{emitDelete:t.deleteItem}}),c("Footer")],1)},i=[],r=(c("99af"),c("d58b")),e=c("0418"),s=c("fd2d"),n=c("b3b1"),u={name:"product",data:function(){return{pageName:"系列產品",product:{},carts:[],isLoading:!1,status:{addToCartIcon:!1}}},components:{Circle4:r["a"],Header:e["a"],Footer:s["a"],Cart:n["a"]},methods:{getProduct:function(){var t=this,a=t.$route.params.id,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/product/").concat(a);t.isLoading=!0,t.$http.get(c).then((function(a){console.log(a.data.product),t.isLoading=!1,t.product=a.data.product,t.product.num=1}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart");t.$http.get(a).then((function(a){console.log(a.data.data.carts),t.carts=a.data.data.carts}))},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart"),i={product_id:t,qty:a};c.status.addToCartIcon=!0,c.$http.post(o,{data:i}).then((function(t){console.log(t),c.getCart(),c.status.addToCartIcon=!1}))},deleteItem:function(t){var a=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("iian0910","/cart/").concat(t);a.isLoading=!0,a.$http.delete(c).then((function(t){a.getCart(),a.isLoading=!1}))}},created:function(){this.getProduct(),this.getCart()}},d=u,l=(c("2b5b"),c("2877")),p=Object(l["a"])(d,o,i,!1,null,"19bbe5a2",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-293e456d.96caf8e4.js.map